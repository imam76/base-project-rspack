STAGED_FILES=$(git diff --cached --name-only --diff-filter=ACMR "*.{js,jsx,ts,tsx,cjs,mjs}")

if [ -n "$STAGED_FILES" ]; then
  # Format & lint file yang di-staged
  echo "$STAGED_FILES" | xargs -I {} pnpm exec biome format --write {}
  echo "$STAGED_FILES" | xargs -I {} pnpm exec biome check --apply {}

  # Tambahkan perubahan ke staging
  echo "$STAGED_FILES" | xargs -I {} git add {}
fi